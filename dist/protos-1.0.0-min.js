"use strict";
/*!
 * Protos JavaScript Library v1.0.0
 * https://github.com/slavikme/protos
 *
 * Copyright Â© 2020 Slavik Meltser
 * Released under the MIT license
 * https://slavikme.github.io/protos/LICENSE
 *
 * Date: 2020-07-10
 */
var Protos=function(){var t,e,r,n,o,i=/(?:Error)?\n(?:\s*at\s+)?/,c=/^.+?\s\((.+?):\d+:\d+\)$/,u=/^(?:.*?@)?(.*?):\d+(?::\d+)?$/,a=function(){var t=(new Error).stack.split(i,2)[1],e=(t.match(c)||t.match(u)||[])[1];if(e)try{return new URL(e).searchParams}catch(t){console.warn("The URL '"+e+"' is not valid.")}else console.warn("Something went wrong. You should debug it!")}(),s=[],_=function(){function t(t){this.originalValue=t,this.envs={}}var e=t.prototype;return e.getScopedValue=function(t){return this.envs[f.getEnvId(t)]||this.originalValue},e.setScopedValue=function(t,e){this.envs[f.getEnvId(t)]=e},t}(),f={SCOPE_HOSTNAME:"hostname",SCOPE_ORIGIN:"origin",SCOPE_DIRECTORY_PATH:"dir",SCOPE_FILE_PATH:"file",SCOPE_HREF:"href",getEnvId:function(t){var e=f._stripToScope(t);return e?Symbol.for(e):Symbol()},_stripToScope:function(t){try{var e=new URL(t);switch(f.currentScope){case f.SCOPE_HOSTNAME:return f._extractHostname(e);case f.SCOPE_ORIGIN:return f._extractOrigin(e);case f.SCOPE_DIRECTORY_PATH:return f._extractDirPath(e);case f.SCOPE_FILE_PATH:return f._extractFilePath(e);case f.SCOPE_HREF:return f._extractHref(e)}}catch(t){}return t},_extractHostname:function(t){return t.hostname},_extractOrigin:function(t){return t.origin},_extractFilePath:function(t){return t.origin+t.pathname},_extractDirPath:function(t){return f._extractFilePath(t).replace(/\/[^\/]+$/,"")},_extractHref:function(t){return t.href}};return f.currentScope=a&&(t=a.get("scope"),e=f,r=/^SCOPE_/,n=f.SCOPE_ORIGIN,(o=t&&t.toLowerCase())&&Object.keys(e).filter(function(t){return r.test(t)}).some(function(t){return o===e[t]})&&o||n),function(t,e,r){if(void 0===r&&(r={}),g=t,O=e,!s.some(function(t){return t.obj===g&&t.prop===O})){!function(t,e){s.push({obj:t,prop:e})}(t,e);var n=r,o=n.configurable,a=void 0!==o&&o,f=n.enumerable,p=void 0!==f&&f,l=t[e];t["__original_"+e]=l;var h=new _(l),E=!1,S=function(){var t=(new Error).stack.split(i,4).filter(function(t){return t})[2];return(t.match(c)||t.match(u)||[])[1]};Object.defineProperty(t,e,{configurable:a,enumerable:p,set:function(t){E=!0,h.setScopedValue(S(),t)},get:function(){return E?h.getScopedValue(S()):h.originalValue}})}var g,O}}();!function(){var t=["caller","callee","arguments","constructor","length","__proto__","__lookupSetter__","__lookupGetter__","__defineSetter__","__defineGetter__"],e=function(e){return Object.getOwnPropertyNames(e).filter(function(r){return!t.some(function(t){return r===t})&&"function"==typeof e[r]}).forEach(function(t){return Protos(e,t)})};e(Array.prototype),e(String.prototype),e(Number.prototype),e(Boolean.prototype),e(Function.prototype),e(BigInt.prototype),e(Object.prototype),e(RegExp.prototype)}();
